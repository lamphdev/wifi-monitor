<div class="w-full" style="height: 350px;" appApChart [data]="chartData"></div>

<div class="flex justify-between items-center">
    <div class="w-full md:w-1/3">
        <nz-input-group [nzSuffix]="searchIcon">
            <input type="text" nz-input 
            [(ngModel)]="searchString"
            placeholder="Enter a manufacture, product class, serial number, mac address">
        </nz-input-group>
        <ng-template #searchIcon>
            <i nz-icon nzType="search" nzTheme="outline"></i>
        </ng-template>
    </div>
    <button nz-button nzType="primary">Export</button>
</div>
<div class="mt-3 overflow-x-scroll">
    <nz-table [nzData]="['']" 
        nzSize="small" 
        nzTableLayout="auto"
        nzShowPagination="false">
        <thead>
            <tr>
                <th>No</th>
                <th>MAC Address</th>
                <th >Manufacturer</th>
                <th >Product Class</th>
                <th >Serial Number</th>
                <th >Software Version</th>
                <th >CPU Usage</th>
                <th >Memory Usage</th>
                <th>IP Lan</th>
                <th>IP Wan</th>
                <th>Backhaul Link</th>
                <th>Signal Strength</th>
                <th>Quality</th>
                <th>Number of Device Connected</th>
            </tr>
        </thead>
        <tbody *ngIf="apData$|async as apData">
            <tr *ngFor="let device of apData.objects|apfilter: searchString; let i = index">
                <td>{{i + 1}}</td>
                <td>
                    <a nz-typography>{{device.param.mac_address}}</a>
                </td>
                <td>{{device.param.manufacturer}}</td>
                <td>{{device.param.product_class}}</td>
                <td>{{device.param.serial_number}}</td>
                <td>{{device.param.software_version}}</td>
                <td>{{device.param.cpu_usage || '--'}}</td>
                <td>{{device.param.memory_usage || '--'}}</td>
                <td>{{device.param.ip_lan || '--'}}</td>
                <td>{{device.param.ip_wan || '--'}}</td>
                <td>{{device.param.backhaul_link || '--'}}</td>
                <td>
                    <div class="flex flex-nowrap items-center" *ngIf="device.param.backhaul_signal_strength">
                        <i nz-icon nzType="wifi" [ngClass]="classIcon(device)" class="mr-1" nzTheme="outline"></i>
                        <span [ngClass]="classIcon(device)">{{device.param.backhaul_signal_strength}}&nbsp;</span>
                        <span>{{device.param.backhaul_signal_strength}}&nbsp;dBm</span>
                    </div>
                    <span *ngIf="!device.param.backhaul_signal_strength">--</span>
                </td>
                <td>{{device.param.quality}}</td>
                <td>{{device.instance}}</td>
            </tr>
        </tbody>
    </nz-table>
</div>